@model Expense
@{
    ViewBag.Title = "Create Expense";
    var amountValue = Model.Amount > 0 ? Model.Amount.ToString("0.##") : string.Empty;
}

<h2>Create Expense</h2>

<form method="post">
    @Html.AntiForgeryToken()
    @if (!ViewData.ModelState.IsValid)
    {
        @Html.ValidationSummary(false)
    }
<div>
    <label>Type</label>
    <select name="Type" required>
        @foreach (var t in new[] { "Utilities", "Office Supplies", "Maintenance", "Insurance", "Payment Reconciliation" })
        {
            <option value="@t" selected="@(t==Model.Type ? "selected" : null)">@t</option>
        }
    </select>
    @Html.ValidationMessage("Type")
</div>
    <div>
        <label>Payment Method</label>
        <select name="PaymentMethod">
            <option value="Cash" selected>Cash</option>
            <option value="E-Wallet">E-Wallet</option>
            <option value="Credit Card">Credit Card</option>
        </select>
    </div>
    <div>
        <label>Details</label>
        <textarea name="Details" rows="3">@Model.Details</textarea>
        @Html.ValidationMessage("Details")
    </div>
    <div>
        <label>Date</label>
        <input type="text" value="@Model.Date.ToString("yyyy-MM-dd")" readonly />
    </div>
    <div>
        <label>Amount</label>
        <input type="number" step="0.01" name="Amount" value="@amountValue" required />
        @Html.ValidationMessage("Amount")
    </div>
    <button type="submit">Save</button>
    <a href="/Expenses">Cancel</a>
</form>
