@model List<TaskType>
@{
    ViewData["Title"] = "Task Types Management";
}

@Html.Raw(TempData["Info"])

<div style="margin-bottom: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
    <h3>Add New Task Type</h3>
    <form method="post" asp-action="AddTaskType"
          data-ajax="true"
          data-ajax-method="POST"
          data-ajax-update="#target"
          data-ajax-success="onFormSuccess">
        @Html.AntiForgeryToken()
        <div class="form-row">
            <div class="form-group" style="flex: 2;">
                <label>Task Type Name:</label>
                <input type="text" name="name" id="task-name" class="form-control" placeholder="e.g., Cleaning, Restocking, Cashier" required maxlength="100" />
            </div>
            <div class="form-group" style="flex: 3;">
                <label>Description (Optional):</label>
                <input type="text" name="description" id="task-description" class="form-control" placeholder="Brief description" maxlength="200" />
            </div>
            <div class="form-group" style="flex: 1; display: flex; align-items: flex-end;">
                <button type="submit">Add Task Type</button>
            </div>
        </div>
    </form>
</div>

<h3>Existing Task Types</h3>

<div id="target">
    @Html.Partial("_TaskTypesTable", Model)
</div>

<div style="margin-top: 20px;">
    <a href="@Url.Action("Templates")"><button>Back to Templates</button></a>
</div>

@section Scripts {
    <script>
        // Clear form after successful submission
        function onFormSuccess() {
            $('#task-name').val('');
            $('#task-description').val('');
        }
    </script>
}

